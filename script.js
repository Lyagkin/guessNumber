'use strict';

window.addEventListener('DOMContentLoaded', () => {
  let secretNumber = Math.trunc(Math.random() * 20) + 1; // –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —á–∏—Å–ª–∞ –≤ –¥–∏–∞–ø–æ–∑–æ–Ω–µ –æ—Ç 0 –¥–æ 20;
  let score = 20; // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤
  let highscore = 0; // –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–π –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

  const displayMessage = function (message) {
    // –≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —É–≥–∞–¥—ã–≤–∞–Ω–∏—è —á–∏—Å–ª–∞
    document.querySelector('.message').textContent = message;
  };

  const displayNumber = function (number) {
    // –≤—ã–≤–æ–¥ –Ω–∞ —ç–∫—Ä–∞–Ω —É–≥–∞–¥–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –≤–º–µ—Å—Ç–æ –∑–Ω–∞–∫–∞ –≤–æ–ø—Ä–æ—Å–∞
    document.querySelector('.number').textContent = number;
  };

  const displayScore = function (score) {
    // –ø–æ–¥—Å—á–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞–±—Ä–∞–Ω–Ω—ã—Ö –æ—á–∫–æ–≤ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ø—ã—Ç–æ–∫
    document.querySelector('.score').textContent = score;
  };

  const displayBackgroundColor = function (body) {
    // –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–∞ –µ—Å–ª–∏ —É–≥–∞–¥–∞–Ω–æ —á–∏—Å–ª–æ
    document.querySelector('body').style.backgroundColor = body;
  };

  document.querySelector('.check').addEventListener('click', function () {
    // –ª–æ–≥–∏–∫–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É check
    const guess = Number(document.querySelector('.guess').value); // –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–æ–ª—è –¥–ª—è –≤–≤–æ–¥–∞ —á–∏—Å–ª–∞

    if (!guess) {
      displayMessage('‚õîÔ∏è No number!'); // –Ω–µ –≤–≤–µ–ª–∏ –Ω–∏–∫–∞–∫–æ–≥–æ —á–∏—Å–ª–∞ - –≤—ã–≤–µ–ª–∏ –Ω–∞ —ç–∫—Ä–∞–Ω —Ç–µ–∫—Å—Ç –∏–∑ –∞—Ä–≥—É–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏
    } else if (guess === secretNumber) {
      // –µ—Å–ª–∏ —Ç–æ—á–Ω–æ —É–≥–∞–¥–∞–ª–∏ —á–∏—Å–ª–æ:
      displayMessage('üéâ Correct Number!'); // –≤—ã–≤–µ–ª–∏ –Ω–∞ —ç–∫—Ä–∞–Ω —Ç–µ–∫—Å—Ç –∏–∑ –∞—Ä–≥—É–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏
      displayNumber(secretNumber); // –≤—ã–≤–µ–ª–∏ –Ω–∞ —ç–∫—Ä–∞–Ω –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ
      displayBackgroundColor('#60b347'); // –∏–∑–º–µ–Ω–∏–ª–∏ —Ü–≤–µ—Ç —ç–∫—Ä–∞–Ω–∞
      if (score > highscore) {
        highscore = score; // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ –∫–∞–∂–¥–æ–≥–æ —Ä–∞—É–Ω–¥–∞, –ø—Ä–∏ —É–≥–∞–¥—ã–≤–∞–Ω–∏–∏ —á–∏—Å–ª–∞ - –µ—Å–ª–∏ –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –±–æ–ª—å—à–µ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ 0, –≤—ã–≤–æ–¥–∏—Ç—Å—è —ç—Ç–æ —á–∏—Å–ª–æ, –¥–∞–ª–µ–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ç–æ –µ—Å—Ç—å –Ω–∞–∏–º–µ–Ω—å—à–µ–µ —á–∏—Å–ª–æ
        document.querySelector('.highscore').textContent = highscore; // –≤—ã–≤–æ–¥–∏–º –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ —ç–∫—Ä–∞–Ω
      }
    } else if (guess !== secretNumber) {
      // –µ—Å–ª–∏ –Ω–µ–≤–µ—Ä–Ω–æ —É–≥–∞–¥–∞–Ω–æ —á–∏—Å–ª–æ
      if (score > 1) {
        // –∏ –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—á–∫–æ–≤ –±–æ–ª—å—à–µ 1
        displayMessage(guess > secretNumber ? 'üìà Too high!' : 'üìâ Too low!'); // —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —á–∏—Å–ª–∞ –∏ –≤—ã–≤–æ–¥–∏–º –Ω–∞ —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è - –ª–∏–±–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ –ª–∏–±–æ —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ
        score--; // –ø—Ä–∏ —ç—Ç–æ–º —É–º–µ–Ω—å—à–∞–µ–º –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—á–∫–æ–≤
        displayScore(score); // –≤—ã–≤–æ–¥–∏–º –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–∞ —ç–∫—Ä–∞–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –æ—á–∫–æ–≤
      } else {
        // –µ—Å–ª–∏ –Ω–∞–±—Ä–∞–Ω–Ω—ã—Ö –æ—á–∫–æ–≤ –º–µ–Ω—å—à–µ 1
        displayMessage('üí• You lost the game!'); // –≤—ã–≤–æ–¥–∏–º –Ω–∞ —ç–∫—Ä–∞–Ω —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–∏–≥—Ä–∞–Ω–Ω–æ–π –∏–≥—Ä–µ
        displayScore(0); // –≤—ã–≤–æ–¥–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ –∏–≥—Ä–æ–∫–∞
      }
    }
  });

  document.querySelector('.again').addEventListener('click', function () {
    // –ª–æ–≥–∏–∫–∞ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É - again
    score = 20; // –æ–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ –∏–≥—Ä–æ–∫–∞
    secretNumber = Math.trunc(Math.random() * 20) + 1; // –æ–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ
    displayMessage('Start guessing...'); // –≤—ã–≤–æ–¥–∏–º –Ω–∞ —ç–∫—Ä–∞–Ω —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏
    displayScore(score); // –≤—ã–≤–æ–¥–∏–º –Ω–∞ —ç–∫—Ä–∞–Ω –æ—á–∫–∏ –∏–≥—Ä–æ–∫–∞
    displayNumber('?'); // –≤—ã–≤–æ–¥–∏–º –Ω–∞ —ç–∫—Ä–∞–Ω —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏
    document.querySelector('.guess').value = ''; // –æ—á–∏—â–∞–µ–º –∏–Ω–ø—É—Ç
    displayBackgroundColor('#222'); // –æ–∫—Ä–∞—à–∏–≤–∞–µ–º —ç–∫—Ä–∞–Ω –≤ —á–µ—Ä–Ω—ã–π
  });
});
